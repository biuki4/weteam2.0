{"version":3,"sources":["webpack:///K:/HBuilderX/project/WeTeam/components/k-ui/k-waterfall-flow/k-waterfall-flow.vue?8f77","webpack:///K:/HBuilderX/project/WeTeam/components/k-ui/k-waterfall-flow/k-waterfall-flow.vue?9738","webpack:///K:/HBuilderX/project/WeTeam/components/k-ui/k-waterfall-flow/k-waterfall-flow.vue?6f1e","webpack:///K:/HBuilderX/project/WeTeam/components/k-ui/k-waterfall-flow/k-waterfall-flow.vue?1cea","webpack:///K:/HBuilderX/project/WeTeam/components/k-ui/k-waterfall-flow/k-waterfall-flow.vue","webpack:///K:/HBuilderX/project/WeTeam/components/k-ui/k-waterfall-flow/k-waterfall-flow.vue?b4e5"],"names":["renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","l0","_self","_c","__map","newList","item","index","m0","type","id","f0","_f","userViews","$orig","__get_orig","$mp","data","Object","assign","$root","recyclableRender","staticRenderFns","_withStripped","props","list","Array","default","loading","Boolean","restart","mark","boxHeight","top","left","loadingTop","colorList","watch","newVal","oldVal","length","$nextTick","setTimeout","$props","waterFall","methods","query","uni","createSelectorQuery","in","selectAll","boundingClientRect","res","len","height","i","$set","push","minHeight","exec","choose","e","currentTarget","dataset","$emit","s","Math","floor","random"],"mappings":";;;;2DAAA,8UACIA,EADJ,iJASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,WACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,uEACZ,aAAAF,E;;;;2GCvBf,ygC;;;;2GCAA,IAAIG,EAAJ,0LACA,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eAETC,GADKJ,EAAIK,MAAMC,GACVN,EAAIO,MAAMP,EAAIQ,SAAS,SAASC,EAAMC,GAC7C,IAAIC,EAAKX,EAAIY,KAAKH,EAAKI,IAEnBC,EAAKd,EAAIe,GAAG,cAAPf,CAAsBS,EAAKO,WAEpC,MAAO,CACLC,MAAOjB,EAAIkB,WAAWT,GACtBE,GAAIA,EACJG,GAAIA,OAIRd,EAAImB,IAAIC,KAAOC,OAAOC,OACpB,GACA,CACEC,MAAO,CACLnB,GAAIA,MAKRoB,GAAmB,EACnBC,EAAkB,GACtB1B,EAAO2B,eAAgB,G;;;;2DC5BvB,ipBAA0lB,eAAG,G;;;;gJCyC9kB,CACdC,MAAO,CAENC,KAAM,CACLhB,KAAMiB,MACNC,QAFK,WAGJ,MAAO,KAITC,QAAS,CACRnB,KAAMoB,QACNF,SAAS,GAGVG,QAAS,CACRrB,KAAMoB,QACNF,SAAS,IAGXV,KApBc,WAqBb,MAAO,CAENc,KAAM,EACN1B,QAAS,GACT2B,UAAW,GACXC,IAAK,GACLC,KAAM,GACNC,WAAY,EACZC,UAAU,CAAC,UAAU,UAAU,UAAU,WAG3CC,MAAO,CAENZ,KAAM,SAASa,EAAQC,GAEtBzC,KAAKiC,KAAOQ,EAAOC,OACfF,GAAUC,IACbzC,KAAKO,QAAUP,KAAK2B,KACpB3B,KAAK2C,WAAU,WAAY,IAAD,OACzBC,YAAW,WAQP,EAAKC,OAAOb,UACd,EAAKG,IAAM,GACX,EAAKC,KAAO,GACZ,EAAKF,UAAY,GACjB,EAAKG,WAAa,GAEnB,EAAKS,cACH,WAMPC,QAAS,CAERD,UAFQ,WAEK,IAAD,OACLE,EAAQC,EAAIC,sBAAsBC,GAAGnD,MAC3CgD,EAAMI,UAAU,6BAA6BC,oBAAmB,SAAAC,GAG/D,IAFA,IAAIC,EAAM,EAAKhD,QAAQmC,OACnBc,EAAS,EACJC,EAAI,EAAKxB,KAAMwB,EAAIF,EAAKE,IAEhC,GADAD,EAASF,EAAIG,GAAGD,OACZC,EAAI,EACP,EAAKC,KAAK,EAAKnD,QAAQkD,GAAI,MAAO,GAClC,EAAKC,KAAK,EAAKnD,QAAQkD,GAAI,OAAQA,GACnC,EAAKvB,UAAUyB,KAAKH,GACpB,EAAKrB,IAAIwB,KAAK,GACd,EAAKvB,KAAKuB,KAAKF,OAGT,CACN,IAAIG,EAAY,EAAK1B,UAAU,GAC3BzB,EAAQ,EACRmD,EAAY,EAAK1B,UAAU,KAC9B0B,EAAY,EAAK1B,UAAU,GAC3BzB,EAAQ,GAET,EAAKyB,UAAUzB,GAASmD,EAAYJ,EAAS,GAC7C,EAAKrB,IAAIwB,KAAKC,EAAY,IAC1B,EAAKxB,KAAKuB,KAAKlD,GACf,EAAKiD,KAAK,EAAKnD,QAAQkD,GAAI,MAAOG,EAAY,IAC9C,EAAKF,KAAK,EAAKnD,QAAQkD,GAAI,OAAQhD,GACnC,EAAK4B,WAAa,EAAKH,UAAUzB,OAGjCoD,QAGJC,OAnCQ,SAmCDC,GACN,IAAItD,EAAQsD,EAAEC,cAAcC,QAAQxD,MACpCT,KAAKkE,MAAM,QAASlE,KAAKO,QAAQE,KAElCE,KAvCQ,SAuCH8C,GACJ,IAAMU,EAAIC,KAAKC,MAAoB,EAAdD,KAAKE,UAC1B,OAAOtE,KAAKsC,UAAU6B,M;;;;2DC/IzB,yoCAA2lC,eAAG,G","file":"components/k-ui/k-waterfall-flow/k-waterfall-flow.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./k-waterfall-flow.vue?vue&type=template&id=f6dc76a2&scoped=true&\"\nvar renderjs\nimport script from \"./k-waterfall-flow.vue?vue&type=script&lang=js&\"\nexport * from \"./k-waterfall-flow.vue?vue&type=script&lang=js&\"\nimport style0 from \"./k-waterfall-flow.vue?vue&type=style&index=0&id=f6dc76a2&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f6dc76a2\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"project/WeTeam/components/k-ui/k-waterfall-flow/k-waterfall-flow.vue\"\nexport default component.exports","export * from \"-!../../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./k-waterfall-flow.vue?vue&type=template&id=f6dc76a2&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.newList, function(item, index) {\n    var m0 = _vm.type(item.id)\n\n    var f0 = _vm._f(\"formatViews\")(item.userViews)\n\n    return {\n      $orig: _vm.__get_orig(item),\n      m0: m0,\n      f0: f0\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./k-waterfall-flow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./k-waterfall-flow.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n\tprops: {\n\t\t// 数据列表\n\t\tlist: {\n\t\t\ttype: Array,\n\t\t\tdefault () {\n\t\t\t\treturn []\n\t\t\t}\n\t\t},\n\t\t// 加载动画\n\t\tloading: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t},\n\t\t// 是否重新加载数据 而 不是新增数据\n\t\trestart: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\t// avatar: 'http://www.iamk.top/static/image/error.jpg',\n\t\t\tmark: 0,\n\t\t\tnewList: [],\n\t\t\tboxHeight: [],\t// boxHeight[0] 为第一列高度  boxHeight[1] 为第二列高度\n\t\t\ttop: [],\n\t\t\tleft: [],\t\t// 0-第一列  1-第二列\n\t\t\tloadingTop: 0,\n\t\t\tcolorList:['primary','success','warning','error']\n\t\t}\n\t},\n\twatch: {\n\t\t// 接收props中数据\n\t\tlist: function(newVal, oldVal) {\n\t\t\t// console.log(\"oldVal: \" + JSON.stringify(oldVal))\n\t\t\tthis.mark = oldVal.length;\n\t\t\tif (newVal != oldVal) {\n\t\t\t\tthis.newList = this.list;\n\t\t\t\tthis.$nextTick(function() {\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t// console.log(this.$props.restart)\n\t\t\t\t\t\t// console.log(\"this.mark： \" + this.mark)\n\t\t\t\t\t\t// console.log(\"this.boxHeight： \" + this.boxHeight)\n\t\t\t\t\t\t// console.log(this.boxHeight)\n\t\t\t\t\t\t// console.log(\"this.top： \" + this.top)\n\t\t\t\t\t\t// console.log(\"this.left:  \" + this.left)\n\t\t\t\t\t\t// console.log(\"this.loadingTop: \" + this.loadingTop)\n\t\t\t\t\t\tif(this.$props.restart){\n\t\t\t\t\t\t\tthis.top = []\n\t\t\t\t\t\t\tthis.left = []\n\t\t\t\t\t\t\tthis.boxHeight = []\n\t\t\t\t\t\t\tthis.loadingTop = 0\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.waterFall();\n\t\t\t\t\t}, 120)\n\t\t\t\t})\n\t\t\t}\n\t\t\t// console.log(this.newList)\n\t\t}\n\t},\n\tmethods: {\n\t\t// 瀑布流定位\n\t\twaterFall() {\n\t\t\tconst query = uni.createSelectorQuery().in(this);\n\t\t\tquery.selectAll('.flow-box .waterfall-item').boundingClientRect(res => {\n\t\t\t\tlet len = this.newList.length;\n\t\t\t\tlet height = 0;\n\t\t\t\tfor (let i = this.mark; i < len; i++) {\n\t\t\t\t\theight = res[i].height;\n\t\t\t\t\tif (i < 2) {\n\t\t\t\t\t\tthis.$set(this.newList[i], 'top', 0);\n\t\t\t\t\t\tthis.$set(this.newList[i], 'left', i);\n\t\t\t\t\t\tthis.boxHeight.push(height);\n\t\t\t\t\t\tthis.top.push(0);\n\t\t\t\t\t\tthis.left.push(i);\n\t\t\t\t\t\t// console.log(\"this.top: \" + this.top)\n\t\t\t\t\t\t// console.log(\"this.left\" + this.left)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlet minHeight = this.boxHeight[0];\n\t\t\t\t\t\tlet index = 0;\t\t// 默认左边高度较小\n\t\t\t\t\t\tif (minHeight > this.boxHeight[1]) {\n\t\t\t\t\t\t\tminHeight = this.boxHeight[1];\n\t\t\t\t\t\t\tindex = 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.boxHeight[index] = minHeight + height + 10;\n\t\t\t\t\t\tthis.top.push(minHeight + 10);\t\t// 下一元素的起始位置\n\t\t\t\t\t\tthis.left.push(index);\t\t\t\t// 下一元素的列数\n\t\t\t\t\t\tthis.$set(this.newList[i], 'top', minHeight + 10);\t\t// 不太清除这个的作用，注释掉无效果\n\t\t\t\t\t\tthis.$set(this.newList[i], 'left', index);\t\t\t\t//\n\t\t\t\t\t\tthis.loadingTop = this.boxHeight[index];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}).exec();\n\t\t},\n\t\t// 选中\n\t\tchoose(e) {\n\t\t\tlet index = e.currentTarget.dataset.index;\n\t\t\tthis.$emit('click', this.newList[index]);\n\t\t},\n\t\ttype(i) {\n\t\t\tconst s = Math.floor(Math.random()*3)\n\t\t\treturn this.colorList[s]\n\t\t}\n\t}\n}\n","import mod from \"-!../../../../../plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./k-waterfall-flow.vue?vue&type=style&index=0&id=f6dc76a2&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../../plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./k-waterfall-flow.vue?vue&type=style&index=0&id=f6dc76a2&scoped=true&lang=scss&\""],"sourceRoot":""}