(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/game/game-detail"],{55:
/*!*********************************************************************************!*\
  !*** K:/HBuilderX/project/WeTeam/main.js?{"page":"pages%2Fgame%2Fgame-detail"} ***!
  \*********************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";(function(e){n(/*! uni-pages */4),n(/*! @dcloudio/uni-stat */5);i(n(/*! vue */2));var t=i(n(/*! ./pages/game/game-detail.vue */56));function i(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["createPage"])},56:
/*!**************************************************************!*\
  !*** K:/HBuilderX/project/WeTeam/pages/game/game-detail.vue ***!
  \**************************************************************/
/*! no static exports found */function(e,t,n){"use strict";n.r(t);var i=n(/*! ./game-detail.vue?vue&type=template&id=67d38dea& */57),r=n(/*! ./game-detail.vue?vue&type=script&lang=js& */59);for(var s in r)"default"!==s&&function(e){n.d(t,e,(function(){return r[e]}))}(s);var a,o=n(/*! ../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */16),u=Object(o["default"])(r["default"],i["render"],i["staticRenderFns"],!1,null,null,null,!1,i["components"],a);u.options.__file="project/WeTeam/pages/game/game-detail.vue",t["default"]=u.exports},57:
/*!*********************************************************************************************!*\
  !*** K:/HBuilderX/project/WeTeam/pages/game/game-detail.vue?vue&type=template&id=67d38dea& ***!
  \*********************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(e,t,n){"use strict";n.r(t);var i=n(/*! -!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./game-detail.vue?vue&type=template&id=67d38dea& */58);n.d(t,"render",(function(){return i["render"]})),n.d(t,"staticRenderFns",(function(){return i["staticRenderFns"]})),n.d(t,"recyclableRender",(function(){return i["recyclableRender"]})),n.d(t,"components",(function(){return i["components"]}))},58:
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!K:/HBuilderX/project/WeTeam/pages/game/game-detail.vue?vue&type=template&id=67d38dea& ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(e,t,n){"use strict";var i;n.r(t),n.d(t,"render",(function(){return r})),n.d(t,"staticRenderFns",(function(){return a})),n.d(t,"recyclableRender",(function(){return s})),n.d(t,"components",(function(){return i}));var r=function(){var e=this,t=e.$createElement;e._self._c},s=!1,a=[];r._withStripped=!0},59:
/*!***************************************************************************************!*\
  !*** K:/HBuilderX/project/WeTeam/pages/game/game-detail.vue?vue&type=script&lang=js& ***!
  \***************************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";n.r(t);var i=n(/*! -!../../../../plugins/uniapp-cli/node_modules/babel-loader/lib!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./game-detail.vue?vue&type=script&lang=js& */60),r=n.n(i);for(var s in i)"default"!==s&&function(e){n.d(t,e,(function(){return i[e]}))}(s);t["default"]=r.a},60:
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!K:/HBuilderX/project/WeTeam/pages/game/game-detail.vue?vue&type=script&lang=js& ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(/*! ./node_modules/@babel/runtime/regenerator */26));function r(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,i,r,s,a){try{var o=e[s](a),u=o.value}catch(c){return void n(c)}o.done?t(u):Promise.resolve(u).then(i,r)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var a=e.apply(t,n);function o(e){s(a,i,r,o,u,"next",e)}function u(e){s(a,i,r,o,u,"throw",e)}o(void 0)}))}}var o=function(){Promise.all(/*! require.ensure | components/k-ui/k-game-detail/k-game-detail */[n.e("common/vendor"),n.e("components/k-ui/k-game-detail/k-game-detail")]).then(function(){return resolve(n(/*! @/components/k-ui/k-game-detail/k-game-detail.vue */384))}.bind(null,n)).catch(n.oe)},u={components:{kGameDetail:o},data:function(){return{games:[],poster:[],isCollect:!1,currGameId:"",user:""}},mounted:function(){this.user=this.$store.getters.getUserInfo},onLoad:function(e){this.currGameId=e.id,this.loadData()},methods:{loadData:function(){var t=a(i.default.mark((function t(){var n;return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(void 0!=this.currGameId&&""!=this.currGameId){t.next=3;break}return e.navigateBack(),t.abrupt("return");case 3:return t.next=5,this.$api.request({url:"/game/"+this.currGameId});case 5:if(n=t.sent,console.log(n),!n.status.startsWith("3000")){t.next=11;break}return this.$api.msg(n.msg),setTimeout((function(){e.navigateBack()}),2e3),t.abrupt("return");case 11:this.games=n.data.game,this.poster[0]=n.data.poster,this.isCollect=n.data.isCollect;case 14:case"end":return t.stop()}}),t,this)})));function n(){return t.apply(this,arguments)}return n}(),collect:function(e){console.log(e),1==this.isCollect?(this.unCollect(this.games.id),this.$api.msg("取消成功")):(this.goCollect(this.games.id),this.$api.msg("收藏成功")),this.isCollect=!this.isCollect},goCollect:function(){var e=a(i.default.mark((function e(t){return i.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$api.request({url:"/game/collect/"+t});case 2:e.sent;case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),unCollect:function(){var e=a(i.default.mark((function e(t){return i.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$api.request({url:"/game/unCollect/"+t});case 2:e.sent;case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),deleteGame:function(){if(this.user.id==this.poster[0].id||0==this.user.userType){var t=this;e.showModal({title:"删除提示",content:"删除不可恢复，确定删除吗？",showCancel:!0,confirmText:"删除",success:function(n){n.confirm&&(e.showLoading({title:"删除中..."}),t.delete())}})}else e.showModal({title:"提示",content:"权限不足，仅能删除您发布的竞赛~",showCancel:!1,confirmText:"返回",success:function(e){}})},delete:function(){var t=a(i.default.mark((function t(){var n;return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$api.request({url:"/game/delete/"+this.currGameId});case 2:n=t.sent,this.$api.prePage().loadData&&this.$api.prePage().loadData("refresh"),e.hideLoading(),200==n.status?(this.$api.msg("删除成功"),e.navigateBack()):2001==n.status||2002==n.status?this.$api.msg(n.msg):this.$api.msg("系统繁忙");case 6:case"end":return t.stop()}}),t,this)})));function n(){return t.apply(this,arguments)}return n}(),editGame:function(){if(this.user.id==this.poster[0].id||0==this.user.userType){var t=this;e.showModal({title:"编辑提示",content:"您确定要编辑该竞赛吗？",showCancel:!0,confirmText:"确定",success:function(n){n.confirm&&e.navigateTo({url:"/pages/admin/post-game?id="+t.currGameId})}})}else e.showModal({title:"提示",content:"权限不足，仅能编辑您发布的竞赛~",showCancel:!1,confirmText:"返回",success:function(e){}})},participate:function(){var e=this.$common.greater(new Date,new Date(this.games.registerEndTime));console.log(e),e?this.$api.msg("报名已结束"):(console.log(this.games.teamSize),this.games.teamSize<=1?this.$api.msg("该竞赛为个人赛"):this.navTo("/pages/team/team-list?id="+this.currGameId+"&&teamSize="+this.games.teamSize))},navTo:function(t){e.navigateTo({url:t})}},onShareAppMessage:function(){return{title:this.games.gameName}},onPullDownRefresh:function(){e.showLoading({title:"正在加载"}),this.loadData(),setTimeout((function(){e.stopPullDownRefresh(),e.showToast({title:"刷新成功"})}),1e3)}};t.default=u}).call(this,n(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["default"])}},[[55,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/game/game-detail.js.map